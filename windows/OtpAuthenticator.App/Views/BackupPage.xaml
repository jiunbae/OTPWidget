<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="OtpAuthenticator.App.Views.BackupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:OtpAuthenticator.App.Views">

    <ScrollViewer Padding="24">
        <StackPanel MaxWidth="800" Spacing="4">
            <TextBlock Text="Backup &amp; Restore"
                       Style="{StaticResource TitleTextBlockStyle}"
                       Margin="0,0,0,24" />

            <!-- Export -->
            <TextBlock Text="Export"
                       Style="{StaticResource SectionHeaderStyle}" />

            <Border Style="{StaticResource AccountCardStyle}">
                <StackPanel Spacing="16">
                    <TextBlock Text="Create an encrypted backup of all your accounts."
                               TextWrapping="Wrap"
                               Opacity="0.7" />

                    <InfoBar Title="Important"
                             Message="Your backup will be encrypted with a password. Make sure to remember this password - without it, you cannot restore your accounts."
                             Severity="Warning"
                             IsOpen="True"
                             IsClosable="False" />

                    <ToggleSwitch x:Name="IncludeSettingsToggle"
                                  Header="Include app settings"
                                  IsOn="True"
                                  OffContent="No"
                                  OnContent="Yes" />

                    <Button x:Name="ExportButton"
                            Content="Export Backup"
                            Style="{StaticResource AccentButtonStyle}"
                            HorizontalAlignment="Left" />
                </StackPanel>
            </Border>

            <!-- Import -->
            <TextBlock Text="Import"
                       Style="{StaticResource SectionHeaderStyle}" />

            <Border Style="{StaticResource AccountCardStyle}">
                <StackPanel Spacing="16">
                    <TextBlock Text="Restore accounts from an encrypted backup file."
                               TextWrapping="Wrap"
                               Opacity="0.7" />

                    <InfoBar x:Name="ImportInfoBar"
                             IsOpen="False"
                             IsClosable="True" />

                    <ToggleSwitch x:Name="RestoreSettingsToggle"
                                  Header="Restore app settings"
                                  IsOn="False"
                                  OffContent="No"
                                  OnContent="Yes" />

                    <Button x:Name="ImportButton"
                            Content="Import Backup"
                            HorizontalAlignment="Left" />
                </StackPanel>
            </Border>

            <!-- QR Export -->
            <TextBlock Text="QR Code Export"
                       Style="{StaticResource SectionHeaderStyle}" />

            <Border Style="{StaticResource AccountCardStyle}">
                <StackPanel Spacing="16">
                    <TextBlock Text="Export individual accounts as QR codes for easy transfer to other devices."
                               TextWrapping="Wrap"
                               Opacity="0.7" />

                    <Button x:Name="ExportQrButton"
                            Content="Export as QR Codes"
                            HorizontalAlignment="Left" />
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
