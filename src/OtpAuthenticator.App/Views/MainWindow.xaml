<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="OtpAuthenticator.App.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:OtpAuthenticator.App.Views"
    xmlns:vm="using:OtpAuthenticator.App.ViewModels"
    Title="OTP Authenticator">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <Grid Grid.Row="0" Height="48" Background="{ThemeResource LayerFillColorDefaultBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="16,0">
                <FontIcon Glyph="&#xE8D7;" FontSize="20" Margin="0,0,12,0" />
                <TextBlock Text="OTP Authenticator"
                           VerticalAlignment="Center"
                           Style="{StaticResource SubtitleTextBlockStyle}" />
            </StackPanel>

            <!-- Search Box -->
            <AutoSuggestBox Grid.Column="1"
                            PlaceholderText="Search accounts..."
                            QueryIcon="Find"
                            Width="300"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center" />
        </Grid>

        <!-- Main Content -->
        <NavigationView Grid.Row="1"
                        x:Name="NavigationViewControl"
                        IsBackButtonVisible="Collapsed"
                        IsSettingsVisible="True"
                        PaneDisplayMode="Left"
                        OpenPaneLength="200">

            <NavigationView.MenuItems>
                <NavigationViewItem Content="Accounts" Icon="Contact" Tag="accounts" />
                <NavigationViewItem Content="Backup" Icon="Save" Tag="backup" />
            </NavigationView.MenuItems>

            <NavigationView.Content>
                <Frame x:Name="ContentFrame" />
            </NavigationView.Content>
        </NavigationView>

        <!-- Account Edit Panel (Overlay) -->
        <Grid x:Name="EditOverlay"
              Grid.RowSpan="2"
              Visibility="Collapsed"
              Background="{ThemeResource LayerOnAcrylicFillColorDefaultBrush}">
            <local:AccountEditView x:Name="AccountEditView"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Width="450" />
        </Grid>
    </Grid>
</Window>
